# GameLang API 参考文档

## 概述

本文档详细介绍了GameLang语言的所有内置函数、类和方法，为开发者提供完整的API参考。

## 内置函数

### 输出和输入函数

#### print(...)
打印输出一个或多个值到控制台。

**语法：**
```ln
print(值1, 值2, ..., 值n)
```

**参数：**
- `值1, 值2, ..., 值n` - 要打印的值，支持任意类型

**返回值：**
- 无

**示例：**
```ln
print("Hello, World!")
print("分数:", 100, "等级:", "A")
print("数组:", [1, 2, 3])
```

**特性：**
- 自动类型转换
- 支持多参数
- 自动添加空格分隔
- 自动换行

#### input(提示)
从用户获取输入。

**语法：**
```ln
input(提示)
```

**参数：**
- `提示` - 显示给用户的提示信息

**返回值：**
- `str` - 用户输入的字符串

**示例：**
```ln
名字 = input("请输入你的名字：")
年龄 = int(input("请输入你的年龄："))
```

### 类型转换函数

#### str(值)
将值转换为字符串。

**语法：**
```ln
str(值)
```

**参数：**
- `值` - 要转换的值

**返回值：**
- `str` - 转换后的字符串

**示例：**
```ln
s1 = str(123)        # "123"
s2 = str(3.14)       # "3.14"
s3 = str(true)       # "true"
s4 = str([1, 2, 3])  # "[1, 2, 3]"
```

#### int(值)
将值转换为整数。

**语法：**
```ln
int(值)
```

**参数：**
- `值` - 要转换的值

**返回值：**
- `int` - 转换后的整数

**示例：**
```ln
n1 = int("123")      # 123
n2 = int(3.14)       # 3
n3 = int(true)       # 1
n4 = int(false)      # 0
```

#### float(值)
将值转换为浮点数。

**语法：**
```ln
float(值)
```

**参数：**
- `值` - 要转换的值

**返回值：**
- `float` - 转换后的浮点数

**示例：**
```ln
f1 = float("3.14")   # 3.14
f2 = float(123)      # 123.0
f3 = float(true)     # 1.0
```

#### bool(值)
将值转换为布尔值。

**语法：**
```ln
bool(值)
```

**参数：**
- `值` - 要转换的值

**返回值：**
- `bool` - 转换后的布尔值

**示例：**
```ln
b1 = bool(0)         # false
b2 = bool(1)         # true
b3 = bool("")        # false
b4 = bool("hello")   # true
b5 = bool([])        # false
b6 = bool([1, 2])    # true
```

### 数学函数

#### abs(值)
返回数值的绝对值。

**语法：**
```ln
abs(值)
```

**参数：**
- `值` - 数值

**返回值：**
- `int` 或 `float` - 绝对值

**示例：**
```ln
a1 = abs(-5)         # 5
a2 = abs(-3.14)      # 3.14
a3 = abs(0)          # 0
```

#### max(值1, 值2, ...)
返回多个值中的最大值。

**语法：**
```ln
max(值1, 值2, ..., 值n)
```

**参数：**
- `值1, 值2, ..., 值n` - 要比较的值

**返回值：**
- 最大值

**示例：**
```ln
m1 = max(1, 2, 3)    # 3
m2 = max(3.14, 2.71) # 3.14
m3 = max("a", "b", "c") # "c"
```

#### min(值1, 值2, ...)
返回多个值中的最小值。

**语法：**
```ln
min(值1, 值2, ..., 值n)
```

**参数：**
- `值1, 值2, ..., 值n` - 要比较的值

**返回值：**
- 最小值

**示例：**
```ln
m1 = min(1, 2, 3)    # 1
m2 = min(3.14, 2.71) # 2.71
m3 = min("a", "b", "c") # "a"
```

#### round(值)
对数值进行四舍五入。

**语法：**
```ln
round(值)
```

**参数：**
- `值` - 要四舍五入的数值

**返回值：**
- `int` - 四舍五入后的整数

**示例：**
```ln
r1 = round(3.14)     # 3
r2 = round(3.5)      # 4
r3 = round(3.6)      # 4
r4 = round(-3.5)     # -4
```

#### floor(值)
向下取整。

**语法：**
```ln
floor(值)
```

**参数：**
- `值` - 数值

**返回值：**
- `int` - 向下取整后的整数

**示例：**
```ln
f1 = floor(3.14)     # 3
f2 = floor(3.9)      # 3
f3 = floor(-3.1)     # -4
```

#### ceil(值)
向上取整。

**语法：**
```ln
ceil(值)
```

**参数：**
- `值` - 数值

**返回值：**
- `int` - 向上取整后的整数

**示例：**
```ln
c1 = ceil(3.14)      # 4
c2 = ceil(3.0)       # 3
c3 = ceil(-3.1)      # -3
```

### 随机数函数

#### random()
生成0到1之间的随机小数。

**语法：**
```ln
random()
```

**参数：**
- 无

**返回值：**
- `float` - 0到1之间的随机小数

**示例：**
```ln
r1 = random()        # 0.123456789
r2 = random()        # 0.987654321
```

#### randint(最小值, 最大值)
生成指定范围内的随机整数。

**语法：**
```ln
randint(最小值, 最大值)
```

**参数：**
- `最小值` - 范围的最小值（包含）
- `最大值` - 范围的最大值（包含）

**返回值：**
- `int` - 指定范围内的随机整数

**示例：**
```ln
r1 = randint(1, 10)  # 1到10之间的随机整数
r2 = randint(0, 100) # 0到100之间的随机整数
```

### 列表操作函数

#### len(列表)
获取列表的长度。

**语法：**
```ln
len(列表)
```

**参数：**
- `列表` - 要获取长度的列表

**返回值：**
- `int` - 列表的长度

**示例：**
```ln
arr = [1, 2, 3, 4, 5]
长度 = len(arr)      # 5
```

#### append(列表, 元素)
向列表末尾添加元素。

**语法：**
```ln
append(列表, 元素)
```

**参数：**
- `列表` - 要添加元素的列表
- `元素` - 要添加的元素

**返回值：**
- 无（直接修改原列表）

**示例：**
```ln
arr = [1, 2, 3]
append(arr, 4)       # arr 变为 [1, 2, 3, 4]
append(arr, "hello") # arr 变为 [1, 2, 3, 4, "hello"]
```

#### pop(列表)
移除并返回列表的最后一个元素。

**语法：**
```ln
pop(列表)
```

**参数：**
- `列表` - 要操作的列表

**返回值：**
- 列表的最后一个元素

**示例：**
```ln
arr = [1, 2, 3, 4, 5]
最后一个 = pop(arr)  # 最后一个 = 5, arr 变为 [1, 2, 3, 4]
```

### 字典操作函数

#### get(字典, 键, 默认值)
从字典中获取指定键的值，如果键不存在则返回默认值。

**语法：**
```ln
get(字典, 键, 默认值)
```

**参数：**
- `字典` - 要查询的字典
- `键` - 要查找的键
- `默认值` - 键不存在时返回的默认值（可选）

**返回值：**
- 键对应的值，或默认值

**示例：**
```ln
dic = {"name": "小明", "age": 18}
名字 = get(dic, "name", "未知")    # "小明"
性别 = get(dic, "gender", "未知")  # "未知"
```

#### keys(字典)
获取字典的所有键。

**语法：**
```ln
keys(字典)
```

**参数：**
- `字典` - 要获取键的字典

**返回值：**
- `list` - 包含所有键的列表

**示例：**
```ln
dic = {"name": "小明", "age": 18}
键列表 = keys(dic)   # ["name", "age"]
```

#### values(字典)
获取字典的所有值。

**语法：**
```ln
values(字典)
```

**参数：**
- `字典` - 要获取值的字典

**返回值：**
- `list` - 包含所有值的列表

**示例：**
```ln
dic = {"name": "小明", "age": 18}
值列表 = values(dic) # ["小明", 18]
```

#### items(字典)
获取字典的所有键值对。

**语法：**
```ln
items(字典)
```

**参数：**
- `字典` - 要获取键值对的字典

**返回值：**
- `list` - 包含所有键值对的列表

**示例：**
```ln
dic = {"name": "小明", "age": 18}
键值对 = items(dic)  # [["name", "小明"], ["age", 18]]
```

### 其他函数

#### type(值)
获取值的类型名称。

**语法：**
```ln
type(值)
```

**参数：**
- `值` - 要获取类型的值

**返回值：**
- `str` - 类型的字符串表示

**示例：**
```ln
t1 = type(123)       # "int"
t2 = type("hello")   # "str"
t3 = type(true)      # "bool"
t4 = type([1, 2, 3]) # "list"
t5 = type({"a": 1})  # "dict"
```

#### now()
获取当前时间戳（秒）。

**语法：**
```ln
now()
```

**参数：**
- 无

**返回值：**
- `float` - 当前时间戳

**示例：**
```ln
当前时间 = now()     # 1704067200.123456
```

#### sleep(秒数)
暂停程序执行指定的秒数。

**语法：**
```ln
sleep(秒数)
```

**参数：**
- `秒数` - 要暂停的秒数

**返回值：**
- 无

**示例：**
```ln
print("开始")
sleep(1)             # 暂停1秒
print("1秒后")
sleep(0.5)           # 暂停0.5秒
print("0.5秒后")
```

#### search_builtin(关键词)
搜索内置函数。

**语法：**
```ln
search_builtin(关键词)
```

**参数：**
- `关键词` - 搜索关键词

**返回值：**
- 无（直接打印搜索结果）

**示例：**
```ln
search_builtin("随机")    # 显示包含"随机"的函数
search_builtin("字符串")  # 显示包含"字符串"的函数
```

## 数据类型

### 基本类型

#### int
整数类型。

**字面量：**
```ln
42
-17
0
```

**操作：**
```ln
a = 10
b = 20
c = a + b    # 30
d = a * b    # 200
e = a / b    # 0.5
f = a % b    # 10
```

#### float
浮点数类型。

**字面量：**
```ln
3.14
-2.5
0.0
```

**操作：**
```ln
a = 3.14
b = 2.71
c = a + b    # 5.85
d = a * b    # 8.5094
```

#### str
字符串类型。

**字面量：**
```ln
"Hello, World!"
"你好，世界！"
""
```

**操作：**
```ln
a = "Hello"
b = "World"
c = a + " " + b    # "Hello World"
d = len(a)         # 5
```

#### bool
布尔类型。

**字面量：**
```ln
true
false
```

**操作：**
```ln
a = true
b = false
c = a and b    # false
d = a or b     # true
e = not a      # false
```

#### None
空值类型。

**字面量：**
```ln
null
None
```

**用途：**
```ln
a = null
b = None
c = null == None    # true
```

### 复合类型

#### list
列表类型。

**字面量：**
```ln
[1, 2, 3, 4, 5]
["苹果", "香蕉", "橙子"]
[1, "混合", true, null]
[]
```

**操作：**
```ln
arr = [1, 2, 3]
append(arr, 4)      # [1, 2, 3, 4]
最后一个 = pop(arr)  # 4, arr 变为 [1, 2, 3]
长度 = len(arr)     # 3
```

#### dict
字典类型。

**字面量：**
```ln
{"name": "小明", "age": 18}
{"hp": 100, "mp": 50, "level": 1}
{}
```

**操作：**
```ln
dic = {"name": "小明", "age": 18}
值 = get(dic, "name", "未知")    # "小明"
键列表 = keys(dic)              # ["name", "age"]
值列表 = values(dic)            # ["小明", 18]
```

## 运算符

### 算术运算符

| 运算符 | 描述 | 示例 |
|--------|------|------|
| `+` | 加法 | `a + b` |
| `-` | 减法 | `a - b` |
| `*` | 乘法 | `a * b` |
| `/` | 除法 | `a / b` |
| `%` | 取余 | `a % b` |

### 比较运算符

| 运算符 | 描述 | 示例 |
|--------|------|------|
| `==` | 等于 | `a == b` |
| `!=` | 不等于 | `a != b` |
| `<` | 小于 | `a < b` |
| `>` | 大于 | `a > b` |
| `<=` | 小于等于 | `a <= b` |
| `>=` | 大于等于 | `a >= b` |

### 逻辑运算符

| 运算符 | 描述 | 示例 |
|--------|------|------|
| `and` | 逻辑与 | `a and b` |
| `or` | 逻辑或 | `a or b` |
| `not` | 逻辑非 | `not a` |

### 赋值运算符

| 运算符 | 描述 | 示例 |
|--------|------|------|
| `=` | 赋值 | `a = 10` |
| `+=` | 加法赋值 | `a += 5` |
| `-=` | 减法赋值 | `a -= 5` |
| `*=` | 乘法赋值 | `a *= 5` |
| `/=` | 除法赋值 | `a /= 5` |

## 错误处理

### 常见错误类型

#### 语法错误
- 缺少括号或分号
- 未闭合的字符串
- 无效的标识符

#### 运行时错误
- 未定义变量
- 类型不匹配
- 除零错误
- 索引越界

### 错误信息格式
```
错误类型: 错误描述
位置: 第X行，第Y列
```

## 最佳实践

### 命名规范
- 使用有意义的变量名
- 布尔变量以 `is` 开头
- 函数名使用动词开头
- 类名使用名词

### 代码结构
- 使用适当的缩进
- 添加必要的注释
- 将相关功能组织在函数中
- 使用类来组织相关的数据和方法

### 错误处理
- 检查输入的有效性
- 使用条件语句处理异常情况
- 提供有意义的错误信息

---

*本文档提供了GameLang语言的完整API参考，开发者可以根据需要查阅相应的函数和类型说明。* 