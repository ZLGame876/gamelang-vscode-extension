# GameLang æ¸¸æˆå¼€å‘ç¤ºä¾‹
# è¿™ä¸ªæ–‡ä»¶å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨GameLangè¿›è¡Œæ¸¸æˆå¼€å‘

# æ¸¸æˆçŠ¶æ€å˜é‡
player = {
    "name": "è‹±é›„",
    "hp": 100,
    "level": 1,
    "exp": 0,
    "inventory": []
}

gameState = {
    "isRunning": true,
    "currentLevel": 1,
    "score": 0
}

# æ¸¸æˆåˆå§‹åŒ–å‡½æ•°
fn initGame():
    print("=== æ¸¸æˆå¼€å§‹ ===")
    print("ç©å®¶:", player.name)
    print("ç”Ÿå‘½å€¼:", player.hp)
    print("ç­‰çº§:", player.level)
    print("ç»éªŒå€¼:", player.exp)

# ç©å®¶ç§»åŠ¨å‡½æ•°
fn movePlayer(direction):
    print("ç©å®¶å‘", direction, "ç§»åŠ¨")
    player.exp = player.exp + 10
    checkLevelUp()

# ç­‰çº§æå‡æ£€æŸ¥
fn checkLevelUp():
    if player.exp >= player.level * 100:
        player.level = player.level + 1
        player.hp = player.hp + 20
        print("ğŸ‰ ç­‰çº§æå‡ï¼å½“å‰ç­‰çº§:", player.level)
        print("ç”Ÿå‘½å€¼å¢åŠ åˆ°:", player.hp)

# æˆ˜æ–—ç³»ç»Ÿ
fn battle(enemyName, enemyHp):
    print("âš”ï¸ ä¸", enemyName, "æˆ˜æ–—å¼€å§‹ï¼")
    print("æ•Œäººç”Ÿå‘½å€¼:", enemyHp)
    
    while enemyHp > 0 and player.hp > 0:
        # ç©å®¶æ”»å‡»
        damage = player.level * 10
        enemyHp = enemyHp - damage
        print("ç©å®¶é€ æˆ", damage, "ç‚¹ä¼¤å®³")
        
        if enemyHp <= 0:
            print("ğŸ¯ å‡»è´¥äº†", enemyName, "ï¼")
            player.exp = player.exp + 50
            gameState.score = gameState.score + 100
            break
        
        # æ•Œäººåå‡»
        enemyDamage = 15
        player.hp = player.hp - enemyDamage
        print("å—åˆ°", enemyDamage, "ç‚¹ä¼¤å®³ï¼Œå‰©ä½™ç”Ÿå‘½å€¼:", player.hp)
        
        if player.hp <= 0:
            print("ğŸ’€ æ¸¸æˆç»“æŸï¼")
            gameState.isRunning = false
            break

# ç‰©å“ç³»ç»Ÿ
fn addItem(itemName):
    player.inventory.append(itemName)
    print("è·å¾—ç‰©å“:", itemName)
    print("èƒŒåŒ…å†…å®¹:", player.inventory)

# æ¸¸æˆä¸»å¾ªç¯
fn gameLoop():
    initGame()
    
    while gameState.isRunning:
        print("\n=== æ¸¸æˆèœå• ===")
        print("1. ç§»åŠ¨")
        print("2. æˆ˜æ–—")
        print("3. æŸ¥çœ‹çŠ¶æ€")
        print("4. é€€å‡ºæ¸¸æˆ")
        
        # è¿™é‡Œå¯ä»¥æ·»åŠ ç”¨æˆ·è¾“å…¥é€»è¾‘
        # ç°åœ¨ä½¿ç”¨æ¨¡æ‹Ÿè¾“å…¥
        choice = 1  # æ¨¡æ‹Ÿé€‰æ‹©ç§»åŠ¨
        
        if choice == 1:
            movePlayer("åŒ—æ–¹")
        elif choice == 2:
            battle("å°æ€ªç‰©", 50)
        elif choice == 3:
            print("ç©å®¶çŠ¶æ€:", player)
            print("æ¸¸æˆçŠ¶æ€:", gameState)
        elif choice == 4:
            print("æ¸¸æˆç»“æŸï¼Œæœ€ç»ˆå¾—åˆ†:", gameState.score)
            gameState.isRunning = false

# å¯åŠ¨æ¸¸æˆ
gameLoop()

# AIè¾…åŠ©æ¸¸æˆè®¾è®¡
ai_ask("å¦‚ä½•è®¾è®¡ä¸€ä¸ªæœ‰è¶£çš„RPGæ¸¸æˆæˆ˜æ–—ç³»ç»Ÿï¼Ÿ")
